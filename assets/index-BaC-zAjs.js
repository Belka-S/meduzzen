import{j as s,c as l,a as E,b as L,n as k,G as v,F as A,r as o,J as N,K as f,L as I,B as T}from"./index-ynwh1Inb.js";import{S as w}from"./index-9yy5MYKl.js";import{H as p}from"./index-BMovOOsQ.js";import{s as m,C as B}from"./index-laS9dzkl.js";const D=()=>s.jsx("div",{className:l(m.head),children:s.jsxs("div",{className:l("container",m.head__wrap,m.item),children:[s.jsx("span",{}),s.jsx(p,{children:"Name"}),s.jsx(p,{children:"Title"}),s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{}),s.jsx(p,{children:"ID"})]})}),H="_screen_ekh51_1",M="_button_ekh51_9",j={screen:H,button:M},J=()=>{const u=E(),n=L(),{owner:r}=k(),{myCompanies:i}=v(),{companyList:c,pagination:_,select:t}=A(),{current_page:d,total_page:x}=_,h=30;o.useEffect(()=>{const e=document.getElementById("active-company");(()=>{e==null||e.scrollIntoView({block:"center",behavior:"smooth"})})()},[]),o.useEffect(()=>{u(N(!1))},[u]),o.useEffect(()=>{!c[0]&&n(f({page:1,page_size:h}))},[c,n]),o.useEffect(()=>{if(!r)return;const{user_id:e}=r;n(I({user_id:e}))},[n,r]);const y=e=>{n(f({page:d+1,page_size:h})),e.currentTarget.blur()},g=o.useMemo(()=>{const e=i.map(a=>a.company_id);return t==="all"?c.filter(a=>!e.includes(a.company_id)):i.filter(a=>t==="member"?a.action===t||a.action==="admin":a.action===t).sort((a,C)=>a.company_id-C.company_id)},[c,i,t]),b=x!==0&&d<x&&t==="all";return s.jsxs(w,{className:l("container",j.screen),children:[s.jsx(D,{}),g.map(e=>s.jsx(B,{props:e},e.company_id)),b&&s.jsx(T,{className:j.button,onClick:y,variant:"smooth",color:"outlined",label:"Load more"})]})};export{J as default};
