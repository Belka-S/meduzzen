import{j as t,T as z,a as b,b as j,C as g,f as N,M as y,a4 as w,r as E,a7 as k,i as C,c as Q,am as S,B as T,an as $,ao as v,_ as A}from"./index-0c623FNQ.js";import{S as H}from"./index-C6sbcqFx.js";import{H as u}from"./index-vgPJCSbv.js";const O=e=>Object.fromEntries(Object.entries(e).filter(([,s])=>!(typeof s=="string"&&!s.length||s===null||typeof s>"u"))),B=e=>{const{className:s="",fontWeight:o=700,children:r}=e;return t.jsx(z,{className:s,el:"h2",fontWeight:o,children:r})},D="_screen_19axl_1",P="_title_wrap_19axl_8",F="_quiz_19axl_15",I="_form_19axl_19",L="_quiz_title_19axl_37",M="_button_19axl_56",i={screen:D,title_wrap:P,quiz:F,form:I,quiz_title:L,button:M},G=()=>{const e=b(),s=j(),{id:o}=g(),r=N(),{state:_}=y(),{quiz:l}=w(),n=Number(o);E.useEffect(()=>{(async()=>await s(k({quiz_id:n})))()},[s,n]);const{register:p,handleSubmit:d}=C({mode:"onChange"}),h=async a=>{await s($({...O(a),quiz_id:n})),e(v("owner")),e(A("quizzes")),r(_.from,{replace:!0})};if(!l)return;const{quiz_name:x,quiz_frequency:f,questions_list:m}=l;return t.jsxs(H,{className:Q("container",i.screen),children:[t.jsxs("div",{className:i.title_wrap,children:[t.jsx(B,{children:`${x}`}),t.jsx(u,{children:`id: ${n}`}),t.jsx(u,{children:`freq: ${f}`})]}),t.jsx("div",{className:i.quiz,children:m.map((a,q)=>t.jsxs("form",{className:i.form,onSubmit:d(h),children:[t.jsx(u,{className:i.quiz_title,children:a.question_text}),a.question_answers.map(c=>t.jsx(S,{inputName:`${a.question_id}`,register:p,type:"radio",value:c,label:c,position:"right"},`answer_${c}`)),m.length===q+1&&t.jsx(T,{className:i.button,type:"submit",variant:"smooth",color:"outlined",label:"Submit"})]},a.question_id))})]})};export{G as default};
