import{M as B,a as E,b as U,F as S,n as F,r as P,j as s,N as R,c as V,P as $,B as c,S as o,J,Q,R as W,U as X,l as Y,L as k,W as Z,X as q,Y as z,Z as G,_ as y}from"./index-0c623FNQ.js";const H="_head_1hje2_1",K="_head__wrap_1hje2_11",O="_item_1hje2_20",ss="_active_1hje2_30",as="_icon_svg_1hje2_42",ns="_hover_1hje2_46",es="_vision_svg_1hje2_52",ts="_avatar_1hje2_56",cs="_button_1hje2_61",os="_icon_svg__shown_1hje2_64",a={head:H,head__wrap:K,item:O,active:ss,icon_svg:as,hover:ns,vision_svg:es,avatar:ts,button:cs,icon_svg__shown:os},rs=({props:l})=>{const{company_id:e,company_name:_,company_title:C}=l,{is_visible:d,company_avatar:b}=l,{pathname:N}=B(),i=E(),r=U(),{company:h,checkedCompanies:f,select:u}=S(),{owner:t,checkedUsers:I}=F(),[v,m]=P.useState(!1);if(!e)return;const p=f.some(n=>n.company_id===e),j=e===(h==null?void 0:h.company_id),w={id:e,url:b,name:_},D=async n=>{if(n.preventDefault(),n.currentTarget.blur(),!confirm(`Are you sure you want to delete: ${_}`))return;const{payload:g}=await r(X({company_id:e}));if(Y.success(g.detail),!t)return;const{user_id:T}=t;await r(k({user_id:T}))},x=async n=>{n.preventDefault(),await r(Z({company_id:e,is_visible:!d})),t!=null&&t.user_id&&r(k({user_id:t==null?void 0:t.user_id}))},A=n=>{n.preventDefault(),i(q(l))},L=n=>{n.preventDefault(),i(z({company_id:e}))},M=async()=>{!I.length&&u!=="all"&&N==="/company"?(await r(G({company_id:e})),i(y("members"))):i(y(null))};return s.jsxs(s.Fragment,{children:[s.jsxs(R,{to:`/company/${e}`,id:j?"active-company":"",className:V(a.item,a.hover,j&&a.active),onClick:M,children:[s.jsx($,{className:a.avatar,ava:w}),s.jsx("span",{children:_}),s.jsx("span",{children:C}),u!=="all"?s.jsx(c,{className:a.button,variant:"round",color:"transparent",onClick:n=>{n.preventDefault(),m(!v)},children:s.jsx(o,{className:a.icon_svg,svgId:"ui-chart"})}):s.jsx("span",{}),s.jsx(c,{className:a.button,variant:"round",color:"transparent",onClick:()=>i(J("data")),children:s.jsx(o,{className:a.icon_svg,svgId:"ui-edit"})}),s.jsx(c,{className:a.button,variant:"round",color:"transparent",onClick:D,children:s.jsx(o,{className:a.icon_svg,svgId:"ui-trash"})}),!p&&s.jsx(c,{className:a.button,variant:"round",color:"transparent",onClick:A,children:s.jsx(o,{className:a.icon_svg,svgId:"ui-uncheck"})}),p&&s.jsx(c,{className:a.button,variant:"round",color:"transparent",onClick:L,children:s.jsx(o,{className:a.icon_svg__shown,svgId:"ui-check"})}),d&&s.jsx(c,{className:a.button,variant:"round",color:"transparent",onClick:x,children:s.jsx(o,{className:a.vision_svg,svgId:"ui-visible"})}),!d&&s.jsx(c,{className:a.button,variant:"round",color:"transparent",onClick:x,children:s.jsx(o,{className:a.vision_svg,svgId:"ui-invisible"})}),s.jsx("span",{children:e})]}),v&&s.jsx(Q,{setIsModal:()=>m(!v),children:s.jsx(W,{company_id:e})})]})};export{rs as C,a as s};
