import{f as O,M as P,a as S,b as q,n as z,F,j as s,N as R,c as G,P as H,S as r,B as o,l as d,e as J,ah as K,ai as Q,q as V,aj as W,ak as X}from"./index-efMiHanE.js";import{t as y}from"./trimName-Cn-Df3iO.js";const Y="_head_1vy2p_1",Z="_head__wrap_1vy2p_11",ss="_item_1vy2p_20",as="_active_1vy2p_31",es="_owner_1vy2p_34",ts="_icon_svg_1vy2p_46",ns="_hover_1vy2p_50",cs="_vision_svg_1vy2p_56",rs="_avatar_1vy2p_61",os="_admin_1vy2p_66",is="_button_1vy2p_73",a={head:Y,head__wrap:Z,item:ss,active:as,owner:es,icon_svg:ts,hover:ns,vision_svg:cs,avatar:rs,admin:os,button:is},vs=({props:i})=>{var x;const{user_id:e,user_email:m,user_avatar:f}=i,{user_firstname:u,user_lastname:_,action:j}=i,N=O(),{pathname:k}=P(),c=S(),b=q(),{user:v,owner:t,checkedUsers:I}=z(),{company:l,select:U}=F();if(!e)return;const p=I.some(n=>n.user_id===e),h=(t==null?void 0:t.user_id)===e,g=e===(v==null?void 0:v.user_id),C=U==="member"&&k.includes("/company/")?e===((x=l==null?void 0:l.company_owner)==null?void 0:x.user_id):e===(t==null?void 0:t.user_id),D=j==="admin",w=u!==_,A=`${u} ${_}`,B={id:e,url:f,name:A},$=async n=>{if(n.preventDefault(),n.currentTarget.blur(),!(t!=null&&t.is_superuser)&&!h){d.error("It's not your account");return}if(confirm(`Are you sure you want to delete: ${m}`)&&(c(J()),c(K()),e)){const{payload:M}=await b(Q({user_id:e}));d.success(M.detail),N("/cluster",{replace:!0})}},E=n=>{if(!(t!=null&&t.is_superuser)&&!h){n.preventDefault(),d.error("It's not your account");return}n.currentTarget.blur(),c(V("data"))},L=n=>{n.preventDefault(),c(W(i))},T=n=>{n.preventDefault(),c(X({user_id:e}))};return s.jsxs(R,{to:`/cluster/${e}`,id:g?"active-user":"",className:G(a.item,a.hover,g&&a.active,C&&a.owner),children:[s.jsx(H,{className:a.avatar,ava:B}),D&&s.jsx(r,{className:a.admin,svgId:"ui-gear",size:24}),s.jsx("span",{children:m}),s.jsx("span",{children:y(u??"")}),s.jsx("span",{children:w&&y(_??"")}),s.jsx(o,{className:a.button,variant:"round",color:"transparent",onClick:E,children:s.jsx(r,{className:a.icon_svg,svgId:"ui-edit"})}),s.jsx(o,{className:a.button,variant:"round",color:"transparent",onClick:$,children:s.jsx(r,{className:a.icon_svg,svgId:"ui-trash"})}),!p&&s.jsx(o,{className:a.button,variant:"round",color:"transparent",onClick:L,children:s.jsx(r,{className:a.icon_svg,svgId:"ui-uncheck"})}),p&&s.jsx(o,{className:a.button,variant:"round",color:"transparent",onClick:T,children:s.jsx(r,{className:a.icon_svg__shown,svgId:"ui-check"})}),s.jsx("span",{children:e})]})};export{vs as U,a as s};
